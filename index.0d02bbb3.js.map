{"mappings":"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","sources":["src/js/renderMarkup.js","src/js/main.js","src/js/categories.js","src/js/fetchApi.js","src/js/formSignUp.js"],"sourcesContent":[" export function makeMarkupBook( books ) {\n    const markup=  books.reduce((acc, { _id, book_image, author, title}) => {\n     acc+=`<li class=\"book-item\" id=\"${_id}\">\n    <div class=\"book-img-container\">\n     <img class=\"book-img\" loading=\"lazy\" src=\"${book_image}\" alt=\"${title}\"  width=\"180px\" height=\"256px\"/>\n        </div>\n     <p class=\"book-title\">${title}</p>\n        <p class=\"author-name\">${author}</p>\n        </li>\n    `\n        return acc\n    }, '')\n    return markup\n}","const refs = {\n    bestsellersSectionEl: document.querySelector('.bookshelf'),\n}\n\nimport {makeMarkupBook} from './renderMarkup'\n\nasync function getBestsellersBooks() {\n    try {\n        const response = await fetch('https://books-backend.p.goit.global/books/top-books');\n        const data = await response.json();\n        return data;\n    } catch (error) {\n        console.log(error.message)\n    }\n}\n\n\nwindow.addEventListener('DOMContentLoaded', loadBooksItems);\nasync function loadBooksItems(event) {\n    try {\n        const data = await getBestsellersBooks();\n        makeupBestsellersBooks(data);\n\n    } catch (error) {\n        console.log(error.message)\n    }\n}\n\nasync function makeupBestsellersBooks(data) {\n    console.log(data);\n    const bestsellersTitle = \"Best Sellers Books\";\n    const markup =await data.reduce((acc, {list_name, books}) => {\n       acc += `\n        <div class=\"bestsellers-category-item\">\n        <p class=\"bestsellers-category-name\" name=\"${list_name}\">${list_name}</p> \n        <ul class=\"bestsellers-book-list\">\n        ${makeMarkupBook(books)}\n        </ul>\n        <button type=\"button\" class=\"bestsellers-button\">see more</button>\n        </div>`\n        \n        return acc\n    }, `<h2 class=\"bestsellers-title\">${changeColorStyleInTitle(bestsellersTitle)}</h2>`);\n    refs.bestsellersSectionEl.innerHTML = markup;\n}\n\nfunction changeColorStyleInTitle(category) {\n    const titleInArray = category.trim().split(\" \");\n    const lastWord=titleInArray[titleInArray.length-1];\n    const stringExceptLastWord = titleInArray.slice(0, titleInArray.length - 1).join(' ');\n    const string = stringExceptLastWord + ` <span class=\"categories-title-last-word\">${lastWord}</span>`;\n    return string;\n}\n\n","// import { scrollIntoView } from \"scroll-js\";\n\nimport { FetchApiBooks } from './fetchApi';\n\nconst fetchCategories = new FetchApiBooks();\n\nconst categoriesRef = document.querySelector('.categories');\nconst categoriesListRef = document.querySelector('.categories-list');\n\nfetchCategories.fetchCategoryList().then(markupCategories).then(createOnScreen);\n\ncategoriesRef.addEventListener('click', onCategoryNameClick);\n\nfunction onCategoryNameClick(e) {\n  e.preventDefault();\n\n  let currenName = e.target.textContent;\n  if (currenName === 'All categories') {\n    fetchCategories.fetchTopBooks();\n    return;\n  }\n  fetchCategories.fetchSelectedCategory(currenName).then(markupCategories);\n}\n\nfunction markupCategories(catArray) {\n  return catArray.reduce((acc, item) => {\n    acc += `<li class =\"cat-list\">${item.list_name}</li>`;\n    return acc;\n  }, '');\n}\n\nfunction createOnScreen(data) {\n  categoriesListRef.insertAdjacentHTML('beforeend', data);\n}\n","export class FetchApiBooks {\n  constructor() {\n    this.baseUrl = 'https://books-backend.p.goit.global';\n\n    this.categoryList = '/books/category-list';\n    this.topBooks = '/books/top-books';\n    this.selectedCategory = '/books/category?category=';\n    this.bookInfo = '/books/';\n  }\n  fetchApi(param) {\n    return fetch(`${this.baseUrl}${param}`).then(response => response.json());\n  }\n  fetchCategoryList() {\n    return this.fetchApi(this.categoryList);\n  }\n  fetchTopBooks() {\n    return this.fetchApi(this.topBooks);\n  }\n  fetchSelectedCategory(category) {\n    return this.fetchApi(`${this.selectedCategory}${category}`);\n  }\n  fetchBookInfo(id) {\n    return this.fetchApi(`${this.bookInfo}${id}`);\n  }\n}\n\n//---------------- EXAMPLE -----------------------\n// const fetchList = new FetchApiBooks();\n\n// // fetchList.fetchCategoryList();\n// fetchList.fetchTopBooks();\n// fetchList.fetchSelectedCategory(\"Paperback Nonfiction\");\n// fetchList.fetchBookInfo(\"643282b1e85766588626a07f\");\n\n\n\n// import { renderBook, renderBestSellCategories } from './renderMarkup';\n\n// fetchList\n//   .fetchTopBooks()\n//   .then(renderBestSellCategories)\n//     .catch(error => console.log(error));\n  \n\n\n\n\n\n    \n\n  \n\n// function renderBook(book) {\n//   const { book_image, author, title } = book;\n\n//   return ` <li class=\"card\">\n//             <a>\n//                 <img src=\"${book_image}\" class=\"cardImg\">\n//                 <div class=\"titleContainer\">\n//                 <h2 class=\"cardTitle\">${title}</h2>\n//                 </div>\n//                 <p class=\"cardAuthor\">${author}</p>\n//             </a>\n//         </li> `;\n// }\n\n// function renderBestSellCategories(bestSellers) {\n//   const bestCategory = bestSellers.flatMap(bestSellCat => {\n//     const { list_name: listName, books } = bestSellCat;\n\n//     const fiveBooks = books.map(renderBook).join(' ');\n//     return `  <ul>\n//                 <h3 style=\"color: red\">${listName}</h3>\n//                 ${fiveBooks}\n//               </ul>`;\n//   });\n//   containerEl.innerHTML = bestCategory;\n// }\n\n\n","// modal\n\n(() => {\n    const refs = {\n        openModalBtn: document.querySelector(\"[data-modal-open-sign]\"),\n        closeModalBtn: document.querySelector(\"[data-modal-close-sign]\"),\n        modal: document.querySelector(\"[data-modal-sign]\"),\n    };\n\n    refs.openModalBtn.addEventListener(\"click\", toggleModal);\n    refs.closeModalBtn.addEventListener(\"click\", toggleModal);\n\n    function toggleModal() {\n        refs.modal.classList.toggle(\"is-hidden\");\n    }\n})();\n\n// scrol\nwindow.onload = () => {\n    const scrolbtn = document.querySelector('.isshowbtn');\n\n    window.onscroll = () => {\n        if (window.scrollY > 500) {\n            scrolbtn.classList.remove('isshowbtn__hide')\n        } else if (window.scrollY < 500) {\n            scrolbtn.classList.add('isshowbtn__hide')\n        }\n    };\n\n    scrolbtn.onclick = (evt) => {\n        window.scrollTo({\n            top: 0,\n            behavior: \"smooth\"\n        });\n    };\n}\n\n\n\n\n\n// counter\nlet x = 0;\nconst counter = document.querySelector('.countBtn');\nconst acum = document.querySelector('.acum');\n\nfunction count() {\n\tx++;\n\tacum.innerHTML = x;\n}\n\ncounter.addEventListener('click', (evt) => {\ncount();\n})"],"names":["$8fa1c37b43059e2f$export$d37bd98c37b31f0d","books","reduce","acc","_id","book_image","author","title","$d706c914d748cb55$var$refs","bestsellersSectionEl","document","querySelector","window","addEventListener","async","event","data","console","log","bestsellersTitle","markup","list_name","category","titleInArray","trim","split","lastWord","length","stringExceptLastWord","slice","join","$d706c914d748cb55$var$changeColorStyleInTitle","innerHTML","$d706c914d748cb55$var$makeupBestsellersBooks","response","fetch","json","error","message","$d706c914d748cb55$var$getBestsellersBooks","$f3b06000f9b46fbb$var$fetchCategories","fetchApi","param","this","baseUrl","then","fetchCategoryList","categoryList","fetchTopBooks","topBooks","fetchSelectedCategory","selectedCategory","fetchBookInfo","id","bookInfo","constructor","$f3b06000f9b46fbb$var$categoriesRef","$f3b06000f9b46fbb$var$categoriesListRef","$f3b06000f9b46fbb$var$markupCategories","catArray","item","insertAdjacentHTML","e","preventDefault","currenName","target","textContent","refs","openModalBtn","closeModalBtn","modal","toggleModal","classList","toggle","onload","scrolbtn","onscroll","scrollY","remove","add","onclick","evt","scrollTo","top","behavior","$5893b26400eefd78$var$x","$5893b26400eefd78$var$counter","$5893b26400eefd78$var$acum"],"version":3,"file":"index.0d02bbb3.js.map"}