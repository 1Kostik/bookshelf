function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},s=e.parcelRequire0688;null==s&&((s=function(t){if(t in n)return n[t].exports;if(t in i){var e=i[t];delete i[t];var s={id:t,exports:{}};return n[t]=s,e.call(s.exports,s,s.exports),s.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){i[t]=e},e.parcelRequire0688=s),s("9TCtp");var o,r=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,h=parseInt,u="object"==typeof e&&e&&e.Object===Object&&e,g="object"==typeof self&&self&&self.Object===Object&&self,p=u||g||Function("return this")(),d=Object.prototype.toString,f=Math.max,b=Math.min,m=function(){return p.Date.now()};function v(t,e,n){var i,s,o,r,a,l,c=0,h=!1,u=!1,g=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(e){var n=i,o=s;return i=s=void 0,c=e,r=t.apply(o,n)}function d(t){return c=t,a=setTimeout(k,e),h?p(t):r}function v(t){var n=t-l;return void 0===l||n>=e||n<0||u&&t-c>=o}function k(){var t=m();if(v(t))return y(t);a=setTimeout(k,function(t){var n=e-(t-l);return u?b(n,o-(t-c)):n}(t))}function y(t){return a=void 0,g&&i?p(t):(i=s=void 0,r)}function x(){var t=m(),n=v(t);if(i=arguments,s=this,l=t,n){if(void 0===a)return d(l);if(u)return a=setTimeout(k,e),p(l)}return void 0===a&&(a=setTimeout(k,e)),r}return e=E(e)||0,P(n)&&(h=!!n.leading,o=(u="maxWait"in n)?f(E(n.maxWait)||0,e):o,g="trailing"in n?!!n.trailing:g),x.cancel=function(){void 0!==a&&clearTimeout(a),c=0,i=l=s=a=void 0},x.flush=function(){return void 0===a?r:y(m())},x}function P(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function E(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==d.call(t)}(t))return NaN;if(P(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=P(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(r,"");var n=l.test(t);return n||c.test(t)?h(t.slice(2),n?2:8):a.test(t)?NaN:+t}o=function(t,e,n){var i=!0,s=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return P(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),v(t,e,{leading:i,maxWait:e,trailing:s})},(0,s("16BLm").isAuthUser)();const k=new class{constructor(){this.ikonArr=["<<","<","1","2","3","...",">",">>"],this.markup="",this.arrForRender=[],this.buttonElements=[],this.totalPages,this.currentPage=1,this.sliceBegin=0,this.sliceEnd=3,this.increaseIndex=1,this.decreaseIndex=-1,this.groupPaginIndex=window.innerWidth<768?2:3}paginationButtonMarkup(e){this.markup=`     \n      <button class="pagination-button pag-left-pointer-double">${this.ikonArr[0]}</button>\n      <button class="pagination-button pag-left-pointer">${this.ikonArr[1]}</button>\n      <button class="pagination-button pag-number-pointer">${this.ikonArr[2]}</button>\n      <button class="pagination-button pag-number-pointer">${this.ikonArr[3]}</button>\n      <button class="pagination-button pag-number-pointer">${this.ikonArr[4]}</button>\n      <button class="pagination-button pag-pt">${this.ikonArr[5]}</button>\n      <button class="pagination-button pag-right-pointer">${this.ikonArr[6]}</button>\n      <button class="pagination-button pag-right-pointer-double">${this.ikonArr[7]}</button>`,y.paginationContainer.innerHTML=this.markup;window.addEventListener("resize",t(o)((()=>{window.innerWidth<768?(this.groupPaginIndex=2,this.changeNumberOfButtons(),this.highlightCurrentPage(),this.changeStateOfNavigationButtons()):(this.groupPaginIndex=3,this.currentPage>2&&(this.changeNumberOfButtons(),this.highlightCurrentPage(),this.changeStateOfNavigationButtons()))}),100)),this.buttonElements=[...y.paginationContainer.children],this.buttonElements.forEach((t=>{t.classList.add("pagination-hidden")})),e.length>3&&e.length<7?this.buttonElements.forEach(((t,e)=>{4!==e&&t.classList.remove("pagination-hidden")})):e.length>6&&e.length<10?this.buttonElements.forEach(((t,e)=>{5!==e&&t.classList.remove("pagination-hidden")})):e.length>9&&this.buttonElements.forEach((t=>{t.classList.remove("pagination-hidden")}))}makeSliceForRender(t){this.totalPages=Math.ceil(t.length/3),this.currentPage>this.totalPages&&(this.currentPage=this.totalPages),this.paginationButtonMarkup(t),this.changeNumberOfButtons(),this.highlightCurrentPage(),this.changeStateOfNavigationButtons(),this.sliceBegin=3*(this.currentPage-1),this.sliceEnd=this.sliceBegin+3,this.arrForRender=t.slice(this.sliceBegin,this.sliceEnd),x=this.arrForRender.map(L).join(""),y.shoppingListContainerEl.innerHTML=x;document.querySelectorAll(".shoplist-trash").forEach((t=>{t.addEventListener("click",S)}))}changeCurrentPage(t){this.currentPage+=t}highlightCurrentPage(){this.buttonElements.forEach((t=>{this.currentPage===Number(t.textContent)?t.classList.add("active"):t.classList.remove("active")}))}changeNumberOfButtons(){2===this.groupPaginIndex?this.currentPage>2&&this.buttonElements.slice(2,4).forEach(((t,e)=>{t.textContent=this.currentPage+e-1})):(this.currentPage>2&&this.buttonElements.slice(2,5).forEach(((t,e)=>{t.textContent=this.currentPage+e-1})),this.currentPage>2&&this.currentPage===this.totalPages&&this.buttonElements.slice(2,5).forEach(((t,e)=>{t.textContent=this.currentPage+e-2})))}changeStateOfNavigationButtons(){1===this.currentPage&&this.buttonElements.slice(0,2).forEach((t=>{t.setAttribute("disabled",""),t.classList.add("pag-pointer-not-active")})),this.currentPage===this.totalPages&&(this.buttonElements[5].style.display="none",this.buttonElements.slice(6).forEach((t=>{t.setAttribute("disabled",""),t.classList.add("pag-pointer-not-active")}))),this.currentPage===this.totalPages-1&&3===this.groupPaginIndex&&(this.buttonElements[5].style.display="none")}increase(t){this.changeCurrentPage(this.increaseIndex),this.makeSliceForRender(t)}decrease(t){this.changeCurrentPage(this.decreaseIndex),this.makeSliceForRender(t)}firstPage(t){this.currentPage=1,this.makeSliceForRender(t)}lastPage(t){this.currentPage=this.totalPages,this.makeSliceForRender(t)}targetPage(t,e){this.currentPage=e,this.makeSliceForRender(t)}nextGroup(t){this.changeCurrentPage(this.groupPaginIndex),this.makeSliceForRender(t)}afterBookDeleteUpdate(t){this.makeSliceForRender(t),this.currentPage>1&&this.currentPage<=2&&this.buttonElements.slice(2,5).forEach(((t,e)=>{t.textContent=this.currentPage+e-1})),this.highlightCurrentPage()}},y={paginationContainer:document.querySelector(".pagination-container"),shoppingListContainerEl:document.querySelector(".shopping-list-container")};y.paginationContainer.addEventListener("click",(function(t){let e=t.target.textContent;const n=!Number.isNaN(Number(e));">"===e?k.increase(N):"<"===e?k.decrease(N):"<<"===e?k.firstPage(N):">>"===e?k.lastPage(N):n?k.targetPage(N,Number(e)):"..."===e&&k.nextGroup(N)}));let x="";const C=localStorage.getItem("shoppingList");let N=JSON.parse(C);function L(t){const{bookImg:e,author:n,listName:i,description:s,title:o,buyLinks:r,id:a}=t;return`<div class="shoplist-book-container" id="${a}"><img src="${e}" class="shoplist-book-img">\n        <div class="shoplist-desc-container">\n          <h4 class="shoplist-book-title">${o}</h4>\n          <p class="shoplist-book-genre">${i}</p>\n          <p class="shoplist-book-description">${s}</p>\n           <p class="shoplist-book-author">${n}</p>\n        </div>\n        <div class="shoplist-icons">\n    <ul class="shoplist-icons-list">\n      <li class="shoplist-icons-li">\n        <a href="${r[0].url}" target="blank">\n          <div class="shoplist-icon-amazon"></div>\n        </a>\n      </li>\n      <li class="shoplist-icons-li">\n        <a href="${r[2].url}">\n          <div class="shoplist-icon-barnesAndNoble"></div>\n        </a>\n      </li>\n      <li class="shoplist-icons-li">\n        <a href="${r[4].url}">\n          <div class="shoplist-icon-bookshop"></div>\n        </a>\n      </li>\n    </ul>\n  </div>\n        <div class="shoplist-trash"></div> </div>\n`}function S(t){const e=t.target.closest(".shoplist-book-container").id;N=N.filter((t=>t.id!==e)),localStorage.setItem("shoppingList",JSON.stringify(N)),k.afterBookDeleteUpdate(N),0===N.length&&(y.shoppingListContainerEl.innerHTML='<div class="shopping-list-empty-page">\n            <p class="shopping-list-empty-text">\n              This page is empty, add some books <br />\n              and proceed to order.\n            </p>\n            <div class="shopping-list-empty-image"></div>\n          </div>')}0!==N.length&&k.firstPage(N),s("7Buz0"),s("3oIZ9"),s("2klI5"),s("7tzR7");
//# sourceMappingURL=shopping_list.1b85ce3f.js.map
