{"mappings":"AAAQ,SAASA,EAAgBC,GAU7B,OATeA,EAAMC,QAAO,CAACC,GAAKC,IAAEA,EAAGC,WAAEA,EAAUC,OAAEA,EAAMC,MAAEA,KAC5DJ,GAAK,6BAA6BC,sDACSC,WAAoBE,qEACpCA,yCACCD,8BAI1B,G,CCTP,MAAME,EAAO,CACTC,qBAAsBC,SAASC,cAAc,eAgBjDC,OAAOC,iBAAiB,oBACxBC,eAA8BC,GAC1B,KASJD,eAAsCE,GAClCC,QAAQC,IAAIF,GACZ,MAAMG,QAAcH,EAAKd,QAAO,CAACC,GAAKiB,UAACA,EAASnB,MAAEA,KAC/CE,GAAO,mGAEiCiB,+DAErCpB,EAAeC,iHAMlB,IACHO,EAAKC,qBAAqBY,UAAYF,C,CArBlCG,OAfRR,iBACI,IACI,MAAMS,QAAiBC,MAAM,uDAE7B,aADmBD,EAASE,M,CAE9B,MAAOC,GACLT,QAAQC,IAAIQ,EAAMC,Q,EAQCC,G,CAGrB,MAAOF,GACLT,QAAQC,IAAIQ,EAAMC,Q,KCpB1B,MAAME,EAAkB,ICJjB,MASLC,SAASC,GACP,OAAOP,MAAM,GAAGQ,KAAKC,UAAUF,KAASG,MAAKX,GAAYA,EAASE,Q,CAEpEU,oBACE,OAAOH,KAAKF,SAASE,KAAKI,a,CAE5BC,gBACE,OAAOL,KAAKF,SAASE,KAAKM,S,CAE5BC,sBAAsBC,GACpB,OAAOR,KAAKF,SAAS,GAAGE,KAAKS,mBAAmBD,I,CAElDE,cAAcC,GACZ,OAAOX,KAAKF,SAAS,GAAGE,KAAKY,WAAWD,I,CArB1CE,cACEb,KAAKC,QAAU,sCAEfD,KAAKI,aAAe,uBACpBJ,KAAKM,SAAW,mBAChBN,KAAKS,iBAAmB,4BACxBT,KAAKY,SAAW,S,GDDdE,EAAgBpC,SAASC,cAAc,eACvCoC,EAAoBrC,SAASC,cAAc,oBAiBjD,SAASqC,EAAiBC,GACxB,OAAOA,EAAS/C,QAAO,CAACC,EAAK+C,IAC3B/C,GAAO,OAAO+C,EAAK9B,kBAElB,G,CAnBLS,EAAgBM,oBAAoBD,KAAKc,GAAkBd,MAsB3D,SAAwBlB,GACtB+B,EAAkBI,mBAAmB,YAAanC,E,IArBpD8B,EAAcjC,iBAAiB,SAE/B,SAA6BuC,GAC3BA,EAAEC,iBAEF,IAAIC,EAAaF,EAAEG,OAAOC,YAC1B,GAAmB,mBAAfF,EAEF,YADAzB,EAAgBQ,gBAGlBR,EAAgBU,sBAAsBe,GAAYpB,KAAKc,E","sources":["src/js/renderMarkup.js","src/js/main.js","src/js/categories.js","src/js/fetchApi.js"],"sourcesContent":[" export function makeMarkupBook( books ) {\n    const markup=  books.reduce((acc, { _id, book_image, author, title}) => {\n     acc+=`<li class=\"book-item\" id=\"${_id}\">\n    <img class=\"book-img\" loading=\"lazy\" src=\"${book_image}\" alt=\"${title}\"  width=\"180px\" height=\"256px\"/>\n        <p class=\"book-title\">${title}</p>\n        <p class=\"author-name\">${author}</p>\n        </li>\n    `\n        return acc\n    }, '')\n    return markup\n}","const refs = {\n    bestsellersSectionEl: document.querySelector('.bookshelf'),\n}\n\nimport {makeMarkupBook} from './renderMarkup'\n\nasync function getBestsellersBooks() {\n    try {\n        const response = await fetch('https://books-backend.p.goit.global/books/top-books');\n        const data = await response.json();\n        return data;\n    } catch (error) {\n        console.log(error.message)\n    }\n}\n\n\nwindow.addEventListener('DOMContentLoaded', loadBooksItems);\nasync function loadBooksItems(event) {\n    try {\n        const data = await getBestsellersBooks();\n        makeupBestsellersBooks(data);\n\n    } catch (error) {\n        console.log(error.message)\n    }\n}\n\nasync function makeupBestsellersBooks(data) {\n    console.log(data)\n    const markup =await data.reduce((acc, {list_name, books}) => {\n       acc += `\n        <div class=\"bestsellers-category-item\">\n        <p class=\"bestsellers-category-name\">${list_name}</p> \n        <ul class=\"bestsellers-book-list\">\n        ${makeMarkupBook(books)}\n        </ul>\n        <button type=\"button\" class=\"bestsellers-button\">see more</button>\n        </div>`\n        \n        return acc\n    }, '');\n    refs.bestsellersSectionEl.innerHTML = markup;\n}\n\n","// import { scrollIntoView } from \"scroll-js\";\n\nimport { FetchApiBooks } from './fetchApi';\n\nconst fetchCategories = new FetchApiBooks();\n\nconst categoriesRef = document.querySelector('.categories');\nconst categoriesListRef = document.querySelector('.categories-list');\n\nfetchCategories.fetchCategoryList().then(markupCategories).then(createOnScreen);\n\ncategoriesRef.addEventListener('click', onCategoryNameClick);\n\nfunction onCategoryNameClick(e) {\n  e.preventDefault();\n\n  let currenName = e.target.textContent;\n  if (currenName === 'All categories') {\n    fetchCategories.fetchTopBooks();\n    return;\n  }\n  fetchCategories.fetchSelectedCategory(currenName).then(markupCategories);\n}\n\nfunction markupCategories(catArray) {\n  return catArray.reduce((acc, item) => {\n    acc += `<li>${item.list_name}</li>`;\n    return acc;\n  }, '');\n}\n\nfunction createOnScreen(data) {\n  categoriesListRef.insertAdjacentHTML('beforeend', data);\n}\n","export class FetchApiBooks {\n  constructor() {\n    this.baseUrl = 'https://books-backend.p.goit.global';\n\n    this.categoryList = '/books/category-list';\n    this.topBooks = '/books/top-books';\n    this.selectedCategory = '/books/category?category=';\n    this.bookInfo = '/books/';\n  }\n  fetchApi(param) {\n    return fetch(`${this.baseUrl}${param}`).then(response => response.json());\n  }\n  fetchCategoryList() {\n    return this.fetchApi(this.categoryList);\n  }\n  fetchTopBooks() {\n    return this.fetchApi(this.topBooks);\n  }\n  fetchSelectedCategory(category) {\n    return this.fetchApi(`${this.selectedCategory}${category}`);\n  }\n  fetchBookInfo(id) {\n    return this.fetchApi(`${this.bookInfo}${id}`);\n  }\n}\n\n//---------------- EXAMPLE -----------------------\n// const fetchList = new FetchApiBooks();\n\n// // fetchList.fetchCategoryList();\n// fetchList.fetchTopBooks();\n// fetchList.fetchSelectedCategory(\"Paperback Nonfiction\");\n// fetchList.fetchBookInfo(\"643282b1e85766588626a07f\");\n\n\n\n// import { renderBook, renderBestSellCategories } from './renderMarkup';\n\n// fetchList\n//   .fetchTopBooks()\n//   .then(renderBestSellCategories)\n//     .catch(error => console.log(error));\n  \n\n\n\n\n\n    \n\n  \n\n// function renderBook(book) {\n//   const { book_image, author, title } = book;\n\n//   return ` <li class=\"card\">\n//             <a>\n//                 <img src=\"${book_image}\" class=\"cardImg\">\n//                 <div class=\"titleContainer\">\n//                 <h2 class=\"cardTitle\">${title}</h2>\n//                 </div>\n//                 <p class=\"cardAuthor\">${author}</p>\n//             </a>\n//         </li> `;\n// }\n\n// function renderBestSellCategories(bestSellers) {\n//   const bestCategory = bestSellers.flatMap(bestSellCat => {\n//     const { list_name: listName, books } = bestSellCat;\n\n//     const fiveBooks = books.map(renderBook).join(' ');\n//     return `  <ul>\n//                 <h3 style=\"color: red\">${listName}</h3>\n//                 ${fiveBooks}\n//               </ul>`;\n//   });\n//   containerEl.innerHTML = bestCategory;\n// }\n\n\n"],"names":["$8fa1c37b43059e2f$export$d37bd98c37b31f0d","books","reduce","acc","_id","book_image","author","title","$d706c914d748cb55$var$refs","bestsellersSectionEl","document","querySelector","window","addEventListener","async","event","data","console","log","markup","list_name","innerHTML","$d706c914d748cb55$var$makeupBestsellersBooks","response","fetch","json","error","message","$d706c914d748cb55$var$getBestsellersBooks","$f3b06000f9b46fbb$var$fetchCategories","fetchApi","param","this","baseUrl","then","fetchCategoryList","categoryList","fetchTopBooks","topBooks","fetchSelectedCategory","category","selectedCategory","fetchBookInfo","id","bookInfo","constructor","$f3b06000f9b46fbb$var$categoriesRef","$f3b06000f9b46fbb$var$categoriesListRef","$f3b06000f9b46fbb$var$markupCategories","catArray","item","insertAdjacentHTML","e","preventDefault","currenName","target","textContent"],"version":3,"file":"index.27df3d41.js.map"}