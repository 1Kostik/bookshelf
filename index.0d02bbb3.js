function t(t){return t.reduce(((t,{_id:e,book_image:o,author:s,title:n})=>t+=`<li class="book-item" id="${e}">\n    <div class="book-img-container">\n     <img class="book-img" loading="lazy" src="${o}" alt="${n}"  width="180px" height="256px"/>\n        </div>\n     <p class="book-title">${n}</p>\n        <p class="author-name">${s}</p>\n        </li>\n    `),"")}const e={bestsellersSectionEl:document.querySelector(".bookshelf")};window.addEventListener("DOMContentLoaded",(async function(o){try{!async function(o){console.log(o);const s="Best Sellers Books",n=await o.reduce(((e,{list_name:o,books:s})=>e+=`\n        <div class="bestsellers-category-item">\n        <p class="bestsellers-category-name" name="${o}">${o}</p> \n        <ul class="bestsellers-book-list">\n        ${t(s)}\n        </ul>\n        <button type="button" class="bestsellers-button">see more</button>\n        </div>`),`<h2 class="bestsellers-title">${function(t){const e=t.trim().split(" "),o=e[e.length-1],s=e.slice(0,e.length-1).join(" ");return s+` <span class="categories-title-last-word">${o}</span>`}(s)}</h2>`);e.bestsellersSectionEl.innerHTML=n}(await async function(){try{const t=await fetch("https://books-backend.p.goit.global/books/top-books");return await t.json()}catch(t){console.log(t.message)}}())}catch(t){console.log(t.message)}}));const o=new class{fetchApi(t){return fetch(`${this.baseUrl}${t}`).then((t=>t.json()))}fetchCategoryList(){return this.fetchApi(this.categoryList)}fetchTopBooks(){return this.fetchApi(this.topBooks)}fetchSelectedCategory(t){return this.fetchApi(`${this.selectedCategory}${t}`)}fetchBookInfo(t){return this.fetchApi(`${this.bookInfo}${t}`)}constructor(){this.baseUrl="https://books-backend.p.goit.global",this.categoryList="/books/category-list",this.topBooks="/books/top-books",this.selectedCategory="/books/category?category=",this.bookInfo="/books/"}},s=document.querySelector(".categories"),n=document.querySelector(".categories-list");function c(t){return t.reduce(((t,e)=>t+=`<li class ="cat-list">${e.list_name}</li>`),"")}o.fetchCategoryList().then(c).then((function(t){n.insertAdjacentHTML("beforeend",t)})),s.addEventListener("click",(function(t){t.preventDefault();let e=t.target.textContent;if("All categories"===e)return void o.fetchTopBooks();o.fetchSelectedCategory(e).then(c)})),(()=>{const t={openModalBtn:document.querySelector("[data-modal-open-sign]"),closeModalBtn:document.querySelector("[data-modal-close-sign]"),modal:document.querySelector("[data-modal-sign]")};function e(){t.modal.classList.toggle("is-hidden")}t.openModalBtn.addEventListener("click",e),t.closeModalBtn.addEventListener("click",e)})(),window.onload=()=>{const t=document.querySelector(".isshowbtn");window.onscroll=()=>{window.scrollY>500?t.classList.remove("isshowbtn__hide"):window.scrollY<500&&t.classList.add("isshowbtn__hide")},t.onclick=t=>{window.scrollTo({top:0,behavior:"smooth"})}};let l=0;const i=document.querySelector(".countBtn"),a=document.querySelector(".acum");i.addEventListener("click",(t=>{l++,a.innerHTML=l}));
//# sourceMappingURL=index.0d02bbb3.js.map
