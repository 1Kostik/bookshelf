var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};class t{fetchApi(e){return fetch(`${this.baseUrl}${e}`).then((e=>e.json()))}fetchCategoryList(){return this.fetchApi(this.categoryList)}fetchTopBooks(){return this.fetchApi(this.topBooks)}fetchSelectedCategory(e){return this.fetchApi(`${this.selectedCategory}${e}`)}fetchBookInfo(e){return this.fetchApi(`${this.bookInfo}${e}`)}constructor(){this.baseUrl="https://books-backend.p.goit.global",this.categoryList="/books/category-list",this.topBooks="/books/top-books",this.selectedCategory="/books/category?category=",this.bookInfo="/books/"}}function o(e){return e.reduce(((e,{_id:t,book_image:o,author:s,title:n})=>e+=`<li class="book-item" id="${t}">\n    <div class="book-img-container">\n     <img class="book-img" loading="lazy" src="${o}" alt="${n}"  width="180px" height="256px"/>\n        </div>\n     <p class="book-title">${n}</p>\n        <p class="author-name">${s}</p>\n        </li>\n    `),"")}const s={bestsellersSectionEl:document.querySelector(".bookshelf"),categoriesListEl:document.querySelector(".categories-list"),allCategoriesTitleEl:document.querySelector(".cat-list"),bestsellersButton:document.querySelector(".bestsellers-button")};var n=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,i=/^0o[0-7]+$/i,r=parseInt,a="object"==typeof e&&e&&e.Object===Object&&e,u="object"==typeof self&&self&&self.Object===Object&&self,d=a||u||Function("return this")(),f=Object.prototype.toString,b=Math.max,h=Math.min,g=function(){return d.Date.now()};function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==f.call(e)}(e))return NaN;if(y(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=y(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var o=c.test(e);return o||i.test(e)?r(e.slice(2),o?2:8):l.test(e)?NaN:+e}const p=new t;async function k(e){try{const e=await p.fetchTopBooks();await async function(e){const t="Best Sellers Books",n=await e.reduce(((e,{list_name:t,books:s})=>e+=`\n        <div class="bestsellers-category-item">\n        <p class="bestsellers-category-name" name="${t}">${t}</p> \n        <ul class="bestsellers-book-list">\n        ${o(s)}\n        </ul>\n        <button type="button" class="bestsellers-button" name="${t}">see more</button>\n        </div>`),`<h2 class="bestsellers-title">${w(t)}</h2>`);s.bestsellersSectionEl.innerHTML=n}(e)}catch(e){console.log(e.message)}}function w(e){const t=e.trim().split(" "),o=t[t.length-1];return t.slice(0,t.length-1).join(" ")+` <span class="categories-title-last-word">${o}</span>`}function S(e,t){"All categories"===t&&(t="Best Sellers Books"),s.bestsellersSectionEl.innerHTML=`<h2 class="bestsellers-title">${w(t)}</h2>\n        <div class="bestsellers-category-item" name="${t}">\n        <ul class="bestsellers-book-list">\n       ${o(e)}\n        </ul>\n        </div>`}window.addEventListener("DOMContentLoaded",k),s.allCategoriesTitleEl.addEventListener("click",k),s.bestsellersSectionEl.addEventListener("click",(async function(e){if("BUTTON"!==e.target.nodeName)return;s.buttonCattegoryEl=document.querySelector(".bestsellers-button");const t=e.target.name,o=document.querySelector(".bestsellers-title"),n=await p.fetchSelectedCategory(t);o.innerHTML=w(t),S(n,t)})),s.categoriesListEl.addEventListener("click",(async function(e){const t=e.target.textContent;console.log(t);const o=document.querySelector(".bestsellers-title");console.log(o);const s=await p.fetchSelectedCategory(t);o.innerHTML=w(t),S(s,t)}));const v=new t,$=document.querySelector(".categories"),L=document.querySelector(".categories-list");function B(e){return e.reduce(((e,t)=>e+=`<li class ="cat-list">${t.list_name}</li>`),"")}v.fetchCategoryList().then(B).then((function(e){L.insertAdjacentHTML("beforeend",e)})),$.addEventListener("click",(function(e){e.preventDefault();let t=e.target.textContent;if("All categories"===t)return void v.fetchTopBooks();v.fetchSelectedCategory(t).then(B)})),(()=>{const e={openModalBtn:document.querySelector("[data-modal-open-sign]"),closeModalBtn:document.querySelector("[data-modal-close-sign]"),modal:document.querySelector("[data-modal-sign]")};function t(){e.modal.classList.toggle("is-hidden")}e.openModalBtn.addEventListener("click",t),e.closeModalBtn.addEventListener("click",t)})(),window.onload=()=>{const e=document.querySelector(".isshowbtn");window.onscroll=()=>{window.scrollY>500?e.classList.remove("isshowbtn__hide"):window.scrollY<500&&e.classList.add("isshowbtn__hide")},e.onclick=e=>{window.scrollTo({top:0,behavior:"smooth"})}};let E=0;const T=document.querySelector(".countBtn"),q=document.querySelector(".acum");T.addEventListener("click",(e=>{E++,q.innerHTML=E}));
//# sourceMappingURL=index.1be1f0e6.js.map
