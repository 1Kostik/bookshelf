{"mappings":"oeAAAA,EAAA,SCAA,MAAMC,EAAwBC,SAASC,cACrC,6BAEIC,EAAmBC,aAAaC,QAAQ,gBAC9C,IAAIC,EAAeC,KAAKC,MAAML,GAE9B,MAAMM,EAAgBH,EAAaI,KAInC,SAA4BC,GAC1B,MAAMC,QAAEA,EAAOC,OAAEA,EAAMC,SAAEA,EAAQC,YAAEA,EAAWC,MAAEA,EAAKC,SAAEA,EAAQC,GAAEA,GAC/DP,EAEIQ,EAAwBlB,SAASmB,cAAc,OACrDD,EAAsBE,UAAUC,IAAI,2BACpCH,EAAsBI,QAAQL,GAAKA,EAEnC,MAAMM,EAAiB,aAAaZ,2HAEMI,oDACDF,yDACMC,qDACJF,6JAK1BI,EAAS,GAAGQ,+JAKZR,EAAS,GAAGQ,uKAKZR,EAAS,GAAGQ,2KAW7B,OAFAN,EAAsBO,UAAYF,EAE3BL,C,IAKT,MAAMQ,EAA2B1B,SAASmB,cAAc,OACxDO,EAAyBN,UAAUC,IAAI,2BACvCb,EAAcmB,SAAQC,IACpBF,EAAyBG,YAAYD,EAAK,IAG5C7B,EAAsB+B,YAAYJ,GAWlC,SAASK,EAA4BC,GACnC,MAAMf,EAAKe,EAAMC,OAAOC,QAAQ,4BAA4BZ,QAAQL,GACpEZ,EAAeA,EAAa8B,QAAOP,GAAQA,EAAKX,KAAOA,IACvDd,aAAaiC,QAAQ,eAAgB9B,KAAK+B,UAAUhC,IACpDqB,EAAyBY,YACvBN,EAAMC,OAAOC,QAAQ,6BAKK,IAAxB7B,EAAakC,SACfb,EAAyBI,YAAY/B,GACrCyC,EAAoBpB,UAAUC,IAAI,qB,CAnBhBrB,SAASyC,iBAAiB,mBAClCd,SAAQe,IACpBA,EAAMC,iBAAiB,QAASZ,EAA4B,IAyBlC,IAAxB1B,EAAakC,SACVvC,SAASC,cAAc,6BAC1BD,SAAS4C,KAAKf,YAAYH,GAE5BA,EAAyBI,YAAY/B,IAKvC,MAAMyC,EAAsBxC,SAASC,cAAc,yBAE/CuC,IAC0B,IAAxBnC,EAAakC,OACfC,EAAoBpB,UAAUC,IAAI,qBAElCmB,EAAoBpB,UAAUyB,OAAO,sB","sources":["src/shopping_list.js","src/js/shoppingList.js"],"sourcesContent":["import './js/fetchApi';\nimport './js/shoppingList';\nimport './js/formSignUp';\nimport './js/localStorage';\nimport './js/mobileMenu';\nimport './js/themeSwitch';\nimport './js/slider';\nimport './js/formFirebase';\n","const shoppingListContainer = document.querySelector(\n  '.shopping-list-empty-page'\n);\nconst shoppingListJSON = localStorage.getItem('shoppingList');\nlet shoppingList = JSON.parse(shoppingListJSON);\n\nconst shoplistBooks = shoppingList.map(makeShoplistMarkup);\n\n// CreateMarkup\n\nfunction makeShoplistMarkup(shoppingList) {\n  const { bookImg, author, listName, description, title, buyLinks, id } =\n    shoppingList;\n\n  const shoplistBookContainer = document.createElement('div');\n  shoplistBookContainer.classList.add('shoplist-book-container');\n  shoplistBookContainer.dataset.id = id;\n\n  const shoplistMarkup = `<img src=\"${bookImg}\" class=\"shoplist-book-img\">\n        <div class=\"shoplist-desc-container\">\n          <h4 class=\"shoplist-book-title\">${title}</h4>\n          <p class=\"shoplist-book-genre\">${listName}</p>\n          <p class=\"shoplist-book-description\">${description}</p>\n           <p class=\"shoplist-book-author\">${author}</p>\n        </div>\n        <div class=\"shoplist-icons\">\n    <ul class=\"shoplist-icons-list\">\n      <li class=\"shoplist-icons-li\">\n        <a href=\"${buyLinks[0].url}\" target=\"blank\">\n          <div class=\"shoplist-icon-amazon\"></div>\n        </a>\n      </li>\n      <li class=\"shoplist-icons-li\">\n        <a href=\"${buyLinks[2].url}\" target=\"blank\">\n          <div class=\"shoplist-icon-barnesAndNoble\"></div>\n        </a>\n      </li>\n      <li class=\"shoplist-icons-li\">\n        <a href=\"${buyLinks[4].url}\" target=\"blank\">\n          <div class=\"shoplist-icon-bookshop\"></div>\n        </a>\n      </li>\n    </ul>\n  </div>\n        <div class=\"shoplist-trash\"></div>\n`;\n\n  shoplistBookContainer.innerHTML = shoplistMarkup;\n\n  return shoplistBookContainer;\n}\n\n// Create new container and replace markup\n\nconst newShoppingListContainer = document.createElement('div');\nnewShoppingListContainer.classList.add('shopping-list-container');\nshoplistBooks.forEach(book => {\n  newShoppingListContainer.appendChild(book);\n});\n\nshoppingListContainer.replaceWith(newShoppingListContainer);\n\n// Add trash to each element\n\nconst shoplistTrash = document.querySelectorAll('.shoplist-trash');\nshoplistTrash.forEach(trash => {\n  trash.addEventListener('click', removesBookFromShoppingList);\n});\n\n// Update Local Storage\n\nfunction removesBookFromShoppingList(event) {\n  const id = event.target.closest('.shoplist-book-container').dataset.id;\n  shoppingList = shoppingList.filter(book => book.id !== id);\n  localStorage.setItem('shoppingList', JSON.stringify(shoppingList));\n  newShoppingListContainer.removeChild(\n    event.target.closest('.shoplist-book-container')\n  );\n\n  // Fix updating on the page\n\n  if (shoppingList.length === 0) {\n    newShoppingListContainer.replaceWith(shoppingListContainer);\n    paginationContainer.classList.add('pagination-hidden');\n  }\n}\n\nfunction updateBookOnStorage() {\n  localStorage.setItem('shoppingList', JSON.stringify(shoppingList));\n}\n\nif (shoppingList.length === 0) {\n  if (!document.querySelector('.shopping-list-container')) {\n    document.body.appendChild(newShoppingListContainer);\n  }\n  newShoppingListContainer.replaceWith(shoppingListContainer);\n}\n\n// Pagination\n\nconst paginationContainer = document.querySelector('.pagination-container');\n\nif (paginationContainer) {\n  if (shoppingList.length === 0) {\n    paginationContainer.classList.add('pagination-hidden');\n  } else {\n    paginationContainer.classList.remove('pagination-hidden');\n  }\n}\n"],"names":["parcelRequire","$e608521657d26110$var$shoppingListContainer","document","querySelector","$e608521657d26110$var$shoppingListJSON","localStorage","getItem","$e608521657d26110$var$shoppingList","JSON","parse","$e608521657d26110$var$shoplistBooks","map","shoppingList1","bookImg","author","listName","description","title","buyLinks","id","shoplistBookContainer","createElement","classList","add","dataset","shoplistMarkup","url","innerHTML","$e608521657d26110$var$newShoppingListContainer","forEach","book","appendChild","replaceWith","$e608521657d26110$var$removesBookFromShoppingList","event","target","closest","filter","setItem","stringify","removeChild","length","$e608521657d26110$var$paginationContainer","querySelectorAll","trash","addEventListener","body","remove"],"version":3,"file":"shopping_list.e57d4e1a.js.map"}