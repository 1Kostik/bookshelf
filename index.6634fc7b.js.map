{"mappings":"AAAQ,SAASA,EAAgBC,GAU7B,OATeA,EAAMC,QAAO,CAACC,GAAKC,IAAEA,EAAGC,WAAEA,EAAUC,OAAEA,EAAMC,MAAEA,KAC5DJ,GAAK,6BAA6BC,sDACSC,WAAoBE,qEACpCA,yCACCD,8BAI1B,G,CCTP,MAAME,EAAO,CACTC,qBAAsBC,SAASC,cAAc,eAgBjDC,OAAOC,iBAAiB,oBACxBC,eAA8BC,GAC1B,KASJD,eAAsCE,GAClCC,QAAQC,IAAIF,GACZ,MAAMG,QAAcH,EAAKd,QAAO,CAACC,GAAKiB,UAACA,EAASnB,MAAEA,KAC/CE,GAAO,mGAEiCiB,+DAErCpB,EAAeC,iHAMlB,IACHO,EAAKC,qBAAqBY,UAAYF,C,CArBlCG,OAfRR,iBACI,IACI,MAAMS,QAAiBC,MAAM,uDAE7B,aADmBD,EAASE,M,CAE9B,MAAOC,GACLT,QAAQC,IAAIQ,EAAMC,Q,EAQCC,G,CAGrB,MAAOF,GACLT,QAAQC,IAAIQ,EAAMC,Q,KCpB1B,MAAME,EAAgBnB,SAASC,cAAc,eACvCmB,EAAoBpB,SAASC,cAAc,oBAoBjD,SAASoB,EAAiBC,GAGxB,OAAOA,EAAS9B,QAAO,CAACC,EAAK8B,IAC3B9B,GAAO,4EAA0B8B,EAAKb,cAAca,EAAKb,sBAExD,G,CAKL,SAASc,EAAelB,GACtBc,EAAkBK,mBAAmB,YAAanB,E,CA5BlDQ,MADY,2DAETY,MAAKb,GAAYA,EAASE,SAC1BW,KAAKL,GACLK,KAAKF,GAKVL,EAAchB,iBAAiB,SAE/B,SAA6BwB,GAC3BA,EAAEC,iBACF,IAAIC,EAAYF,EAAEG,OAAOC,KACzBjB,MAAMe,GAAWH,MAAKb,GAAYA,EAASE,Q","sources":["src/js/renderMarkup.js","src/js/main.js","src/js/categories.js"],"sourcesContent":[" export function makeMarkupBook( books ) {\n    const markup=  books.reduce((acc, { _id, book_image, author, title}) => {\n     acc+=`<li class=\"book-item\" id=\"${_id}\">\n    <img class=\"book-img\" loading=\"lazy\" src=\"${book_image}\" alt=\"${title}\"  width=\"180px\" height=\"256px\"/>\n        <p class=\"book-title\">${title}</p>\n        <p class=\"author-name\">${author}</p>\n        </li>\n    `\n        return acc\n    }, '')\n    return markup\n}","const refs = {\n    bestsellersSectionEl: document.querySelector('.bookshelf'),\n}\n\nimport {makeMarkupBook} from './renderMarkup'\n\nasync function getBestsellersBooks() {\n    try {\n        const response = await fetch('https://books-backend.p.goit.global/books/top-books');\n        const data = await response.json();\n        return data;\n    } catch (error) {\n        console.log(error.message)\n    }\n}\n\n\nwindow.addEventListener('DOMContentLoaded', loadBooksItems);\nasync function loadBooksItems(event) {\n    try {\n        const data = await getBestsellersBooks();\n        makeupBestsellersBooks(data);\n\n    } catch (error) {\n        console.log(error.message)\n    }\n}\n\nasync function makeupBestsellersBooks(data) {\n    console.log(data)\n    const markup =await data.reduce((acc, {list_name, books}) => {\n       acc += `\n        <div class=\"bestsellers-category-item\">\n        <p class=\"bestsellers-category-name\">${list_name}</p> \n        <ul class=\"bestsellers-book-list\">\n        ${makeMarkupBook(books)}\n        </ul>\n        <button type=\"button\" class=\"bestsellers-button\">see more</button>\n        </div>`\n        \n        return acc\n    }, '');\n    refs.bestsellersSectionEl.innerHTML = markup;\n}\n\n","// import { markupCategories } from './markupCat.js';\n// import { createOnScreen } from './createOnScreen.js';\n// import { scrollIntoView } from \"scroll-js\";\n\nconst categoriesRef = document.querySelector('.categories');\nconst categoriesListRef = document.querySelector('.categories-list');\n\nfunction getCategories() {\n  const url = 'https://books-backend.p.goit.global/books/category-list';\n  fetch(url)\n    .then(response => response.json())\n    .then(markupCategories)\n    .then(createOnScreen);\n}\n\ngetCategories();\n\ncategoriesRef.addEventListener('click', onCategoryNameClick);\n\nfunction onCategoryNameClick(e) {\n  e.preventDefault();\n  let currenUrl = e.target.href;\n  fetch(currenUrl).then(response => response.json());\n}\n\nfunction markupCategories(catArray) {\n  const CAT_URL =\n    'https://books-backend.p.goit.global/books/category?category=';\n  return catArray.reduce((acc, item) => {\n    acc += `<li><a href=\"${CAT_URL}${item.list_name}\">${item.list_name}</a></li>`;\n    return acc;\n  }, '');\n}\n\n\n\nfunction createOnScreen(data) {\n  categoriesListRef.insertAdjacentHTML('beforeend', data);\n}\n"],"names":["$8fa1c37b43059e2f$export$d37bd98c37b31f0d","books","reduce","acc","_id","book_image","author","title","$d706c914d748cb55$var$refs","bestsellersSectionEl","document","querySelector","window","addEventListener","async","event","data","console","log","markup","list_name","innerHTML","$d706c914d748cb55$var$makeupBestsellersBooks","response","fetch","json","error","message","$d706c914d748cb55$var$getBestsellersBooks","$f3b06000f9b46fbb$var$categoriesRef","$f3b06000f9b46fbb$var$categoriesListRef","$f3b06000f9b46fbb$var$markupCategories","catArray","item","$f3b06000f9b46fbb$var$createOnScreen","insertAdjacentHTML","then","e","preventDefault","currenUrl","target","href"],"version":3,"file":"index.6634fc7b.js.map"}