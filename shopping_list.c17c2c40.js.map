{"mappings":"gfAAAA,EAAA,SCAA,IAAMC,EAAwBC,SAASC,cACrC,6BAEF,GAAIC,aAAaC,QAAQ,gBAAiB,CACxC,IAAMC,EAAmBF,aAAaC,QAAQ,gBAC1CE,EAAeC,KAAKC,MAAMH,GAExBI,EAAgBH,EAAaI,KAInC,SAA4BC,GAC1B,IAAQC,EACND,EADMC,QAASC,EACfF,EADeE,OAAQC,EACvBH,EADuBG,SAAUC,EACjCJ,EADiCI,YAAaC,EAC9CL,EAD8CK,MAAOC,EACrDN,EADqDM,SAAUC,EAC/DP,EAD+DO,GAG3DC,EAAwBlB,SAASmB,cAAc,OACrDD,EAAsBE,UAAUC,IAAI,2BACpCH,EAAsBI,QAAQL,GAAKA,EAEnC,IAAMM,EAAiB,aAEiBC,OAFJb,EAAQ,2HAGLa,OADCT,EAAM,oDAEDS,OADNX,EAAS,yDAEPW,OADIV,EAAY,qDAM1CU,OAL0BZ,EAAO,6JAUjCY,OALAR,EAAS,GAAGS,IAAI,6JAUhBD,OALAR,EAAS,GAAGS,IAAI,qKAKAD,OAAhBR,EAAS,GAAGS,IAAI,yKAW/B,OAFAP,EAAsBQ,UAAYH,EAE3BL,C,IAKT,IAAMS,EAA2B3B,SAASmB,cAAc,OAiBxD,SAASS,EAA4BC,GACnC,IAAMZ,EAAKY,EAAMC,OAAOC,QAAQ,4BAA4BT,QAAQL,GACpEZ,EAAeA,EAAa2B,QAAO,SAAAC,G,OAAQA,EAAKhB,KAAOA,C,IACvDf,aAAagC,QAAQ,eAAgB5B,KAAK6B,UAAU9B,IACpDsB,EAAyBS,YACvBP,EAAMC,OAAOC,QAAQ,6BAKK,IAAxB1B,EAAagC,SACfV,EAAyBW,YAAYvC,GACrCwC,EAAoBnB,UAAUC,IAAI,qB,CA5BtCM,EAAyBP,UAAUC,IAAI,2BACvCb,EAAcgC,SAAQ,SAAAP,GACpBN,EAAyBc,YAAYR,E,IAGvClC,EAAsBuC,YAAYX,GAIZ3B,SAAS0C,iBAAiB,mBAClCF,SAAQ,SAAAG,GACpBA,EAAMC,iBAAiB,QAAShB,E,IAyBN,IAAxBvB,EAAagC,SACVrC,SAASC,cAAc,6BAC1BD,SAAS6C,KAAKJ,YAAYd,GAE5BA,EAAyBW,YAAYvC,IAKvC,IAAMwC,EAAsBvC,SAASC,cAAc,yBAE/CsC,IAC0B,IAAxBlC,EAAagC,OACfE,EAAoBnB,UAAUC,IAAI,qBAElCkB,EAAoBnB,UAAU0B,OAAO,qB","sources":["src/shopping_list.js","src/js/shoppingList.js"],"sourcesContent":["import './js/fetchApi';\nimport './js/shoppingList';\nimport './js/formSignUp';\nimport './js/localStorage';\nimport './js/mobileMenu';\nimport './js/themeSwitch';\nimport './js/slider';\n","const shoppingListContainer = document.querySelector(\n  '.shopping-list-empty-page'\n);\nif (localStorage.getItem('shoppingList')) {\n  const shoppingListJSON = localStorage.getItem('shoppingList');\n  let shoppingList = JSON.parse(shoppingListJSON);\n\n  const shoplistBooks = shoppingList.map(makeShoplistMarkup);\n\n  // CreateMarkup\n\n  function makeShoplistMarkup(shoppingList) {\n    const { bookImg, author, listName, description, title, buyLinks, id } =\n      shoppingList;\n\n    const shoplistBookContainer = document.createElement('div');\n    shoplistBookContainer.classList.add('shoplist-book-container');\n    shoplistBookContainer.dataset.id = id;\n\n    const shoplistMarkup = `<img src=\"${bookImg}\" class=\"shoplist-book-img\">\n        <div class=\"shoplist-desc-container\">\n          <h4 class=\"shoplist-book-title\">${title}</h4>\n          <p class=\"shoplist-book-genre\">${listName}</p>\n          <p class=\"shoplist-book-description\">${description}</p>\n           <p class=\"shoplist-book-author\">${author}</p>\n        </div>\n        <div class=\"shoplist-icons\">\n    <ul class=\"shoplist-icons-list\">\n      <li class=\"shoplist-icons-li\">\n        <a href=\"${buyLinks[0].url}\" target=\"blank\">\n          <div class=\"shoplist-icon-amazon\"></div>\n        </a>\n      </li>\n      <li class=\"shoplist-icons-li\">\n        <a href=\"${buyLinks[2].url}\" target=\"blank\">\n          <div class=\"shoplist-icon-barnesAndNoble\"></div>\n        </a>\n      </li>\n      <li class=\"shoplist-icons-li\">\n        <a href=\"${buyLinks[4].url}\" target=\"blank\">\n          <div class=\"shoplist-icon-bookshop\"></div>\n        </a>\n      </li>\n    </ul>\n  </div>\n        <div class=\"shoplist-trash\"></div>\n`;\n\n    shoplistBookContainer.innerHTML = shoplistMarkup;\n\n    return shoplistBookContainer;\n  }\n\n  // Create new container and replace markup\n\n  const newShoppingListContainer = document.createElement('div');\n  newShoppingListContainer.classList.add('shopping-list-container');\n  shoplistBooks.forEach(book => {\n    newShoppingListContainer.appendChild(book);\n  });\n\n  shoppingListContainer.replaceWith(newShoppingListContainer);\n\n  // Add trash to each element\n\n  const shoplistTrash = document.querySelectorAll('.shoplist-trash');\n  shoplistTrash.forEach(trash => {\n    trash.addEventListener('click', removesBookFromShoppingList);\n  });\n\n  // Update Local Storage\n\n  function removesBookFromShoppingList(event) {\n    const id = event.target.closest('.shoplist-book-container').dataset.id;\n    shoppingList = shoppingList.filter(book => book.id !== id);\n    localStorage.setItem('shoppingList', JSON.stringify(shoppingList));\n    newShoppingListContainer.removeChild(\n      event.target.closest('.shoplist-book-container')\n    );\n\n    // Fix updating on the page\n\n    if (shoppingList.length === 0) {\n      newShoppingListContainer.replaceWith(shoppingListContainer);\n      paginationContainer.classList.add('pagination-hidden');\n    }\n  }\n\n  function updateBookOnStorage() {\n    localStorage.setItem('shoppingList', JSON.stringify(shoppingList));\n  }\n\n  if (shoppingList.length === 0) {\n    if (!document.querySelector('.shopping-list-container')) {\n      document.body.appendChild(newShoppingListContainer);\n    }\n    newShoppingListContainer.replaceWith(shoppingListContainer);\n  }\n\n  // Pagination\n\n  const paginationContainer = document.querySelector('.pagination-container');\n\n  if (paginationContainer) {\n    if (shoppingList.length === 0) {\n      paginationContainer.classList.add('pagination-hidden');\n    } else {\n      paginationContainer.classList.remove('pagination-hidden');\n    }\n  }\n}"],"names":["parcelRequire","$0fbe84baae5e1bf4$var$shoppingListContainer","document","querySelector","localStorage","getItem","$0fbe84baae5e1bf4$var$shoppingListJSON","$0fbe84baae5e1bf4$var$shoppingList1","JSON","parse","$0fbe84baae5e1bf4$var$shoplistBooks","map","shoppingList2","bookImg","author","listName","description","title","buyLinks","id","shoplistBookContainer","createElement","classList","add","dataset","shoplistMarkup","concat","url","innerHTML","$0fbe84baae5e1bf4$var$newShoppingListContainer","$0fbe84baae5e1bf4$var$removesBookFromShoppingList","event","target","closest","filter","book","setItem","stringify","removeChild","length","replaceWith","$0fbe84baae5e1bf4$var$paginationContainer","forEach","appendChild","querySelectorAll","trash","addEventListener","body","remove"],"version":3,"file":"shopping_list.c17c2c40.js.map"}